<!DOCTYPE html>
<html>
<head>
    <title>Diatom Brightness</title>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<h2>Diatom Brightness Calculator</h2>

<p><input type="file"  accept="image/*" name="image" id="file"  onchange="loadFile(event)"></p>
<p><label for="file"></p>
<p><img align= "right" id="output" width="700" /></p>
    
<script>
var loadFile = function(event) {
    var image = document.getElementById('output');
    image.src = URL.createObjectURL(event.target.files[0]);
    };
</script>

<p><label for="samplecolor">Click the box to select color</label></p>
<p><input type="color" id="samplecolor" name="colorpicker"></p>

<script>
    var theInput = document.getElementById("samplecolor");
    theInput.addEventListener("input", function() {
    const inputVal = theInput.value;

    const red = parseInt(inputVal.substring(1, 3), 16);
    const green = parseInt(inputVal.substring(3, 5), 16);
    const blue = parseInt(inputVal.substring(5, 7), 16);
    const rgb = [red, green, blue];

    const brightness = Math.sqrt(0.241 * red**2 + 0.691 * green**2 + 0.068 * blue**2)
  
    document.getElementById("demo").innerHTML = brightness;
    }, false);
</script>

<br><br><br><br><br><br><br><br><br><br><br><br><br>
<p>Brightness: </p>
<p id="demo"></p>

</body>
</html>